2025-05-26 01:45:38.706 +04:30 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 01:45:38.968 +04:30 [INF] Now listening on: https://localhost:7107
2025-05-26 01:45:38.970 +04:30 [INF] Now listening on: http://localhost:5150
2025-05-26 01:45:38.973 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 01:45:38.974 +04:30 [INF] Hosting environment: Development
2025-05-26 01:45:38.975 +04:30 [INF] Content root path: C:\Users\DELL\source\repos\Calendar\Calendar.Api
2025-05-26 01:45:41.345 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 01:45:41.979 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 01:45:41.980 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 647.2032ms
2025-05-26 01:45:41.994 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 01:45:42.000 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 20.9962ms
2025-05-26 01:45:42.109 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 114.5501ms
2025-05-26 01:45:42.149 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 01:45:42.318 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.4903ms
2025-05-26 14:19:25.884 +04:30 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 14:19:26.154 +04:30 [INF] Now listening on: https://localhost:7107
2025-05-26 14:19:26.155 +04:30 [INF] Now listening on: http://localhost:5150
2025-05-26 14:19:26.158 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 14:19:26.159 +04:30 [INF] Hosting environment: Development
2025-05-26 14:19:26.160 +04:30 [INF] Content root path: C:\Users\DELL\source\repos\Calendar\Calendar.Api
2025-05-26 14:19:27.081 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:19:27.342 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 271.4511ms
2025-05-26 14:19:27.346 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:19:27.356 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 9.4998ms
2025-05-26 14:19:27.365 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:19:27.440 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.1689ms
2025-05-26 14:19:27.472 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:19:27.640 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.0625ms
2025-05-26 14:19:48.074 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Auth/GetUserByUserName - null null
2025-05-26 14:19:48.271 +04:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:49:48 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 14:19:48.286 +04:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:49:48 AM'.
2025-05-26 14:19:48.290 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.AuthController.GetUserByUserName (Calendar.Api)'
2025-05-26 14:19:48.315 +04:30 [INF] Route matched with {action = "GetUserByUserName", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByUserName(System.String) on controller Calendar.Api.Controllers.AuthController (Calendar.Api).
2025-05-26 14:19:48.339 +04:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-26 14:19:48.359 +04:30 [INF] Executed action Calendar.Api.Controllers.AuthController.GetUserByUserName (Calendar.Api) in 37.3595ms
2025-05-26 14:19:48.360 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.AuthController.GetUserByUserName (Calendar.Api)'
2025-05-26 14:19:48.361 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Auth/GetUserByUserName - 400 null application/problem+json; charset=utf-8 287.6327ms
2025-05-26 14:20:48.564 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Auth/GetAllUsers - null null
2025-05-26 14:20:48.608 +04:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:50:48 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 14:20:48.611 +04:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:50:48 AM'.
2025-05-26 14:20:48.612 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.AuthController.GetAllUsers (Calendar.Api)'
2025-05-26 14:20:48.616 +04:30 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(System.String, System.Nullable`1[Core.Domain.Enum.UserCategory]) on controller Calendar.Api.Controllers.AuthController (Calendar.Api).
2025-05-26 14:20:48.627 +04:30 [INF]  --Starting request GetAllUsersQuery, "2025-05-26T09:50:48.6265432Z" , "599b8223-778a-4706-9827-91207e565a59"
2025-05-26 14:20:49.992 +04:30 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
2025-05-26 14:20:50.086 +04:30 [INF] --Completed request GetAllUsersQuery, "2025-05-26T09:50:50.0864102Z"
2025-05-26 14:20:50.092 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserDTOs.UserResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:20:50.104 +04:30 [INF] Executed action Calendar.Api.Controllers.AuthController.GetAllUsers (Calendar.Api) in 1486.1225ms
2025-05-26 14:20:50.107 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.AuthController.GetAllUsers (Calendar.Api)'
2025-05-26 14:20:50.114 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Auth/GetAllUsers - 200 null application/json; charset=utf-8 1550.4829ms
2025-05-26 14:21:00.881 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Auth/GetUserByUserName?userName=reza - null null
2025-05-26 14:21:00.926 +04:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:51:00 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 14:21:00.929 +04:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:51:00 AM'.
2025-05-26 14:21:00.930 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.AuthController.GetUserByUserName (Calendar.Api)'
2025-05-26 14:21:00.931 +04:30 [INF] Route matched with {action = "GetUserByUserName", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserByUserName(System.String) on controller Calendar.Api.Controllers.AuthController (Calendar.Api).
2025-05-26 14:21:00.951 +04:30 [INF]  --Starting request GetUserByUserNameQuery, "2025-05-26T09:51:00.9516707Z" , "4b1cbd24-c035-45d5-9085-bc7cd327be55"
2025-05-26 14:21:01.079 +04:30 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:21:01.085 +04:30 [INF] --Completed request GetUserByUserNameQuery, "2025-05-26T09:51:01.0850826Z"
2025-05-26 14:21:01.086 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[Core.Application.DTOs.UserDTOs.UserResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:21:01.089 +04:30 [INF] Executed action Calendar.Api.Controllers.AuthController.GetUserByUserName (Calendar.Api) in 156.5691ms
2025-05-26 14:21:01.091 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.AuthController.GetUserByUserName (Calendar.Api)'
2025-05-26 14:21:01.092 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Auth/GetUserByUserName?userName=reza - 200 null application/json; charset=utf-8 211.8366ms
2025-05-26 14:22:05.392 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:22:05.414 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 23.5792ms
2025-05-26 14:22:05.433 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:22:05.439 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 8.8648ms
2025-05-26 14:22:05.452 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:22:05.470 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.5565ms
2025-05-26 14:22:05.554 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:22:05.566 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.6839ms
2025-05-26 14:22:56.172 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:22:56.181 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 11.8793ms
2025-05-26 14:22:56.209 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:22:56.220 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 11.1373ms
2025-05-26 14:22:56.229 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:22:56.241 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.3641ms
2025-05-26 14:22:56.319 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:22:56.327 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.7007ms
2025-05-26 14:23:06.421 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:23:06.427 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 6.5811ms
2025-05-26 14:23:06.454 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:23:06.460 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 6.1052ms
2025-05-26 14:23:06.493 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:23:06.512 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 18.8931ms
2025-05-26 14:23:06.571 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:23:06.579 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.0166ms
2025-05-26 14:24:11.008 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 248
2025-05-26 14:24:11.019 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-26 14:24:11.024 +04:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-26 14:24:11.025 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 401 0 null 17.3542ms
2025-05-26 14:24:32.979 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 248
2025-05-26 14:24:33.019 +04:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:54:32 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 14:24:33.023 +04:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:54:32 AM'.
2025-05-26 14:24:33.025 +04:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-26 14:24:33.028 +04:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-26 14:24:33.029 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 401 0 null 50.6757ms
2025-05-26 14:24:58.204 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Auth/Login - application/json 60
2025-05-26 14:24:58.246 +04:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:54:58 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 14:24:58.250 +04:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/23/2025 5:21:07 PM', Current time (UTC): '5/26/2025 9:54:58 AM'.
2025-05-26 14:24:58.250 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.AuthController.Login (Calendar.Api)'
2025-05-26 14:24:58.255 +04:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Core.Application.DTOs.AuthDTOs.LoginRequest) on controller Calendar.Api.Controllers.AuthController (Calendar.Api).
2025-05-26 14:24:58.288 +04:30 [INF]  --Starting request LoginCommand, "2025-05-26T09:54:58.2882002Z" , "0a36a7d8-e3e2-4794-9de1-437c9c85e2ac"
2025-05-26 14:24:58.308 +04:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:24:58.427 +04:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-05-26 14:24:58.443 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 14:24:58.455 +04:30 [INF] --Completed request LoginCommand, "2025-05-26T09:54:58.4555778Z"
2025-05-26 14:24:58.457 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[Core.Domain.Helper.JwtAuthResult, Core.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:24:58.463 +04:30 [INF] Executed action Calendar.Api.Controllers.AuthController.Login (Calendar.Api) in 205.7979ms
2025-05-26 14:24:58.464 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.AuthController.Login (Calendar.Api)'
2025-05-26 14:24:58.465 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Auth/Login - 200 null application/json; charset=utf-8 261.1187ms
2025-05-26 14:25:45.512 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 248
2025-05-26 14:25:45.526 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:25:45.530 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:25:45.546 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T09:55:45.5467915Z" , "e825ac6d-6fa1-4007-9aec-e9845c4959a9"
2025-05-26 14:25:45.568 +04:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:25:45.889 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 356.4595ms
2025-05-26 14:25:45.954 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:25:46.086 +04:30 [ERR] 6119d6e2-d8d2-42f5-8440-65562acace7d : user name reza does not exist !
2025-05-26 14:25:46.089 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 578.027ms
2025-05-26 14:26:43.013 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:26:43.024 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 10.7683ms
2025-05-26 14:26:43.046 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:26:43.046 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:26:43.048 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 2.7121ms
2025-05-26 14:26:43.059 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.8087ms
2025-05-26 14:26:43.121 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:26:43.133 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.112ms
2025-05-26 14:26:43.134 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/favicon-32x32.png - null null
2025-05-26 14:26:43.145 +04:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-26 14:26:43.147 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/favicon-32x32.png - 200 628 image/png 13.097ms
2025-05-26 14:26:48.048 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 248
2025-05-26 14:26:48.052 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:26:48.055 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:26:48.060 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T09:56:48.0609097Z" , "8eb9b4f6-5266-4268-bc87-382ceff1591f"
2025-05-26 14:26:48.068 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:26:48.072 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:26:48.076 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:26:48.373 +04:30 [ERR] Failed executing DbCommand (112ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:26:48.650 +04:30 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Activities_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6a174d2e-9eda-4f3f-b1ba-12d614fd2b55
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Activities_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6a174d2e-9eda-4f3f-b1ba-12d614fd2b55
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-26 14:26:49.186 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 1129.1732ms
2025-05-26 14:26:49.303 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:26:49.542 +04:30 [ERR] 1a3eed5a-bc50-4d3e-b5ac-129ffe0f88a3 : An error occurred while saving the entity changes. See the inner exception for details.
2025-05-26 14:26:49.547 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 1498.3037ms
2025-05-26 14:27:05.795 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 248
2025-05-26 14:27:05.799 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:27:05.800 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:27:05.804 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T09:57:05.8041855Z" , "a8973535-5422-417f-870d-eda39dccda2b"
2025-05-26 14:27:05.816 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:27:05.820 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:27:05.823 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:27:05.916 +04:30 [ERR] Failed executing DbCommand (88ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:27:06.146 +04:30 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Activities_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6a174d2e-9eda-4f3f-b1ba-12d614fd2b55
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Activities_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6a174d2e-9eda-4f3f-b1ba-12d614fd2b55
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-26 14:27:06.672 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 869.8408ms
2025-05-26 14:27:06.767 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:27:06.955 +04:30 [ERR] bbfc19fb-18c5-4bf9-833a-ca8398e102c4 : An error occurred while saving the entity changes. See the inner exception for details.
2025-05-26 14:27:06.956 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 1161.829ms
2025-05-26 14:27:27.716 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 248
2025-05-26 14:27:27.719 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:27:27.720 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:27:27.723 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T09:57:27.7231799Z" , "95499f62-b155-4b42-9c74-e7221ef22086"
2025-05-26 14:27:27.731 +04:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:27:27.735 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:27:27.739 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:27:27.841 +04:30 [ERR] Failed executing DbCommand (98ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:27:28.069 +04:30 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Activities_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6a174d2e-9eda-4f3f-b1ba-12d614fd2b55
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Activities_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6a174d2e-9eda-4f3f-b1ba-12d614fd2b55
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-26 14:27:28.581 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 858.1417ms
2025-05-26 14:27:28.674 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:27:28.852 +04:30 [ERR] c5023090-fa15-4d26-a3d3-24f60f532557 : An error occurred while saving the entity changes. See the inner exception for details.
2025-05-26 14:27:28.855 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 1138.3667ms
2025-05-26 14:27:48.531 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 248
2025-05-26 14:27:48.534 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:27:48.544 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:27:48.548 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T09:57:48.5484990Z" , "db4ca2d4-d4ef-4595-97d6-2327428805a8"
2025-05-26 14:27:48.555 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:27:48.558 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:27:48.562 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:27:57.167 +04:30 [ERR] Failed executing DbCommand (108ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:27:57.406 +04:30 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Activities_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6a174d2e-9eda-4f3f-b1ba-12d614fd2b55
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Activities_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6a174d2e-9eda-4f3f-b1ba-12d614fd2b55
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-26 14:27:57.936 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 9389.0967ms
2025-05-26 14:27:58.031 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:27:58.234 +04:30 [ERR] 264f4996-a054-49fd-a5cf-cc207c1e616c : An error occurred while saving the entity changes. See the inner exception for details.
2025-05-26 14:27:58.236 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 9705.997ms
2025-05-26 14:28:19.760 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 248
2025-05-26 14:28:19.763 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:28:19.765 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:28:19.767 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T09:58:19.7675136Z" , "f548f2da-e65c-4cc2-bc1f-32514a8444c9"
2025-05-26 14:28:19.773 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:28:19.776 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:28:19.780 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:33:11.299 +04:30 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 14:33:11.491 +04:30 [INF] Now listening on: https://localhost:7107
2025-05-26 14:33:11.493 +04:30 [INF] Now listening on: http://localhost:5150
2025-05-26 14:33:11.496 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 14:33:11.497 +04:30 [INF] Hosting environment: Development
2025-05-26 14:33:11.498 +04:30 [INF] Content root path: C:\Users\DELL\source\repos\Calendar\Calendar.Api
2025-05-26 14:33:11.904 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:33:12.144 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 244.8967ms
2025-05-26 14:33:12.253 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:33:12.253 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:33:12.271 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 18.4076ms
2025-05-26 14:33:12.299 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.4764ms
2025-05-26 14:33:12.332 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:33:12.462 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 129.7386ms
2025-05-26 14:33:20.700 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:33:20.709 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 9.1696ms
2025-05-26 14:33:20.731 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:33:20.736 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 5.1554ms
2025-05-26 14:33:20.748 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:33:20.771 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.278ms
2025-05-26 14:33:20.838 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:33:20.856 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.0297ms
2025-05-26 14:34:15.173 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 252
2025-05-26 14:34:15.287 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:34:15.309 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:34:15.362 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T10:04:15.3620471Z" , "065fd01e-d143-44c1-99a1-8bf5926a38a9"
2025-05-26 14:34:16.680 +04:30 [INF] Executed DbCommand (52ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:34:16.776 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:34:16.781 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:34:17.099 +04:30 [ERR] Failed executing DbCommand (111ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:34:17.340 +04:30 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-26 14:34:17.819 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 2502.5929ms
2025-05-26 14:34:17.904 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:34:18.084 +04:30 [ERR] 015b2bc9-e63c-4acb-bca4-a3f0c2a8b237 : An error occurred while saving the entity changes. See the inner exception for details.
2025-05-26 14:34:18.100 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 2927.4673ms
2025-05-26 14:37:24.130 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 252
2025-05-26 14:37:24.140 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:37:24.142 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:37:24.145 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T10:07:24.1457297Z" , "e62358a8-aa3a-45b5-8a6b-68e6be3d13f1"
2025-05-26 14:37:24.214 +04:30 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:37:24.218 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:37:24.221 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:38:03.645 +04:30 [ERR] Failed executing DbCommand (98ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:38:03.877 +04:30 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Users_ReceiverId". The conflict occurred in database "CalendarDb", table "dbo.Users", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-26 14:38:04.421 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 40276.8793ms
2025-05-26 14:38:04.458 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:38:04.621 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:38:04.870 +04:30 [ERR] 44b1edaa-0dd9-48e8-b16b-fc7be59e8000 : An error occurred while saving the entity changes. See the inner exception for details.
2025-05-26 14:38:04.873 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 40742.5523ms
2025-05-26 14:38:04.873 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 415.0902ms
2025-05-26 14:38:04.923 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:38:04.924 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:38:04.927 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.1916ms
2025-05-26 14:38:04.972 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.534ms
2025-05-26 14:38:05.071 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:38:05.086 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.7432ms
2025-05-26 14:39:12.692 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 246
2025-05-26 14:39:12.713 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:39:12.717 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:39:12.723 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T10:09:12.7239048Z" , "98b2719f-b9c3-4639-b598-0ab0671430b8"
2025-05-26 14:39:12.757 +04:30 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:39:12.762 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:39:12.766 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:39:12.872 +04:30 [ERR] Failed executing DbCommand (95ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:39:13.104 +04:30 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-26 14:39:13.622 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 902.7966ms
2025-05-26 14:39:13.720 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:39:13.913 +04:30 [ERR] 4f08b831-594d-4f48-9437-223372b81f50 : An error occurred while saving the entity changes. See the inner exception for details.
2025-05-26 14:39:13.916 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 1226.745ms
2025-05-26 14:39:31.117 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 246
2025-05-26 14:39:31.132 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:39:31.134 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:39:31.136 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T10:09:31.1368965Z" , "54aef62b-2486-4d56-a512-3127213424fb"
2025-05-26 14:39:31.159 +04:30 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:39:31.163 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:39:31.168 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:39:31.270 +04:30 [ERR] Failed executing DbCommand (99ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:39:31.532 +04:30 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-26 14:39:32.081 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 945.2895ms
2025-05-26 14:39:32.183 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:39:32.381 +04:30 [ERR] 8e6536d4-cfba-4ad4-8045-e8b5bd80a318 : An error occurred while saving the entity changes. See the inner exception for details.
2025-05-26 14:39:32.383 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 1266.1322ms
2025-05-26 14:40:01.083 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 246
2025-05-26 14:40:01.098 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:40:01.099 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:40:01.103 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T10:10:01.1033177Z" , "d33912ab-14d8-4521-92d7-de52f4ed7282"
2025-05-26 14:40:01.108 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:40:01.113 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:40:01.116 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:40:42.941 +04:30 [ERR] Failed executing DbCommand (113ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:40:43.215 +04:30 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserRequests_Projects_ProjectId". The conflict occurred in database "CalendarDb", table "dbo.Projects", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fd1ca999-62d2-44fd-a40d-71fb221b5df6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-26 14:40:43.770 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:40:43.944 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 42841.8799ms
2025-05-26 14:40:44.107 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:40:44.379 +04:30 [ERR] 80d55149-a441-46bc-9252-b03c60a701e6 : An error occurred while saving the entity changes. See the inner exception for details.
2025-05-26 14:40:44.381 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 500 null application/json 43298.5428ms
2025-05-26 14:40:44.387 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 613.87ms
2025-05-26 14:40:44.435 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:40:44.437 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:40:44.438 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 5.4972ms
2025-05-26 14:40:44.447 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.9176ms
2025-05-26 14:40:44.595 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:40:44.611 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.7074ms
2025-05-26 14:42:12.779 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - application/json 246
2025-05-26 14:42:12.785 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:42:12.789 +04:30 [INF] Route matched with {action = "CreateActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateActivity(Core.Application.DTOs.ActivityDTOs.CreateActivityRequest) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:42:12.794 +04:30 [INF]  --Starting request CreateActivityCommand, "2025-05-26T10:12:12.7943705Z" , "12fb8d41-6c9d-4f56-a33b-0dd1f1c9d9f0"
2025-05-26 14:42:12.813 +04:30 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:42:12.817 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:42:12.821 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:42:12.837 +04:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Time), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Time), @p8='?' (Size = 450), @p9='?' (Size = 450), @p10='?' (DbType = DateTime2), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 450), @p14='?' (Size = 450), @p15='?' (Size = 450), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 450), @p23='?' (Size = 450), @p24='?' (DbType = Int32), @p25='?' (Size = 450), @p26='?' (DbType = Int32), @p27='?' (Size = 450), @p28='?' (Size = 450), @p29='?' (DbType = DateTime2), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (Size = 4000), @p35='?' (Size = 450), @p36='?' (Size = 450), @p37='?' (DbType = Int32), @p38='?' (Size = 450), @p39='?' (DbType = Int32), @p40='?' (Size = 450), @p41='?' (Size = 450), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Boolean), @p45='?' (DbType = Boolean), @p46='?' (DbType = Boolean), @p47='?' (Size = 4000), @p48='?' (Size = 450), @p49='?' (Size = 450), @p50='?' (DbType = Int32), @p51='?' (Size = 450), @p52='?' (DbType = Int32), @p53='?' (Size = 450), @p54='?' (Size = 450), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (Size = 4000), @p61='?' (Size = 450), @p62='?' (Size = 450), @p63='?' (DbType = Int32), @p64='?' (Size = 450), @p65='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Activities] ([Id], [Category], [CreatedDate], [Description], [Duration], [IsCompleted], [IsEdited], [NotificationBefore], [ParentId], [ProjectId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26),
(@p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
2025-05-26 14:42:12.855 +04:30 [INF] --Completed request CreateActivityCommand, "2025-05-26T10:12:12.8554746Z"
2025-05-26 14:42:12.864 +04:30 [INF] Executing CreatedResult, writing value of type 'Core.Domain.Shared.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:42:12.871 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api) in 79.8213ms
2025-05-26 14:42:12.872 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CreateActivity (Calendar.Api)'
2025-05-26 14:42:12.873 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Activity/CreateActivity - 201 null application/json; charset=utf-8 93.6905ms
2025-05-26 14:42:24.427 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:42:24.441 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 14.0932ms
2025-05-26 14:42:24.467 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:42:24.484 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:42:24.488 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 20.249ms
2025-05-26 14:42:24.504 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.4427ms
2025-05-26 14:42:24.618 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:42:24.633 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.6562ms
2025-05-26 14:43:08.546 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Activity/GetMemberOfActivity8dbd88e1-27e4-4004-ae22-87a7d9454ba9 - null null
2025-05-26 14:43:08.554 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.GetMemberOfActivity (Calendar.Api)'
2025-05-26 14:43:08.559 +04:30 [INF] Route matched with {action = "GetMemberOfActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMemberOfActivity(System.Guid) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:43:08.563 +04:30 [INF]  --Starting request GetMemberOfActivityQuery, "2025-05-26T10:13:08.5634753Z" , "7b9522b6-6a92-4098-bbe5-d60fdba9312b"
2025-05-26 14:43:08.772 +04:30 [INF] --Completed request GetMemberOfActivityQuery, "2025-05-26T10:13:08.7727562Z"
2025-05-26 14:43:08.774 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserDTOs.UserResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:43:08.781 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.GetMemberOfActivity (Calendar.Api) in 220.7195ms
2025-05-26 14:43:08.783 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.GetMemberOfActivity (Calendar.Api)'
2025-05-26 14:43:08.784 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Activity/GetMemberOfActivity8dbd88e1-27e4-4004-ae22-87a7d9454ba9 - 200 null application/json; charset=utf-8 237.9567ms
2025-05-26 14:43:20.187 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Activity/GetUserActivity - null null
2025-05-26 14:43:20.190 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api)'
2025-05-26 14:43:20.194 +04:30 [INF] Route matched with {action = "GetAllUserActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUserActivity(System.Nullable`1[System.DateTime], System.Nullable`1[Core.Domain.Enum.ActivityCategory], Boolean, Boolean, Boolean) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:43:20.198 +04:30 [INF]  --Starting request GetUserActivitiesQuery, "2025-05-26T10:13:20.1983420Z" , "91487ab9-2b8d-43eb-b87f-35dc76a2a381"
2025-05-26 14:43:20.231 +04:30 [INF] --Completed request GetUserActivitiesQuery, "2025-05-26T10:13:20.2310795Z"
2025-05-26 14:43:20.233 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.ActivityDTOs.ActivityResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:43:20.242 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api) in 46.2252ms
2025-05-26 14:43:20.245 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api)'
2025-05-26 14:43:20.245 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Activity/GetUserActivity - 200 null application/json; charset=utf-8 58.76ms
2025-05-26 14:43:57.961 +04:30 [INF] Request starting HTTP/2 PUT https://localhost:7107/api/Activity/CompleteActivity?activityId=8dbd88e1-27e4-4004-ae22-87a7d9454ba9 - null 0
2025-05-26 14:43:57.966 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.CompleteActivity (Calendar.Api)'
2025-05-26 14:43:57.969 +04:30 [INF] Route matched with {action = "CompleteActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CompleteActivity(System.Guid) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:43:57.976 +04:30 [INF]  --Starting request CompleteActivityCommand, "2025-05-26T10:13:57.9766320Z" , "e6ebde6f-e78d-4b19-a5d0-4a2d33415626"
2025-05-26 14:43:58.001 +04:30 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Category], [a].[CreatedDate], [a].[Description], [a].[Duration], [a].[IsCompleted], [a].[IsEdited], [a].[NotificationBefore], [a].[ParentId], [a].[ProjectId], [a].[StartDate], [a].[Title], [a].[UpdateDate], [a].[UserId]
FROM [Activities] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 14:43:58.006 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Category], [a].[CreatedDate], [a].[Description], [a].[Duration], [a].[IsCompleted], [a].[IsEdited], [a].[NotificationBefore], [a].[ParentId], [a].[ProjectId], [a].[StartDate], [a].[Title], [a].[UpdateDate], [a].[UserId]
FROM [Activities] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 14:43:58.018 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (Size = 450), @p0='?' (DbType = Boolean), @p1='?' (DbType = Boolean), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Activities] SET [IsCompleted] = @p0, [IsEdited] = @p1, [UpdateDate] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-05-26 14:43:58.022 +04:30 [INF] --Completed request CompleteActivityCommand, "2025-05-26T10:13:58.0221232Z"
2025-05-26 14:43:58.023 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:43:58.024 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.CompleteActivity (Calendar.Api) in 52.3731ms
2025-05-26 14:43:58.025 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.CompleteActivity (Calendar.Api)'
2025-05-26 14:43:58.027 +04:30 [INF] Request finished HTTP/2 PUT https://localhost:7107/api/Activity/CompleteActivity?activityId=8dbd88e1-27e4-4004-ae22-87a7d9454ba9 - 200 null application/json; charset=utf-8 65.6398ms
2025-05-26 14:44:03.642 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Activity/GetUserActivity - null null
2025-05-26 14:44:03.645 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api)'
2025-05-26 14:44:03.646 +04:30 [INF] Route matched with {action = "GetAllUserActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUserActivity(System.Nullable`1[System.DateTime], System.Nullable`1[Core.Domain.Enum.ActivityCategory], Boolean, Boolean, Boolean) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:44:03.651 +04:30 [INF]  --Starting request GetUserActivitiesQuery, "2025-05-26T10:14:03.6511930Z" , "ec2feb79-8a46-4cc6-9f14-2b68e024f0bd"
2025-05-26 14:44:03.662 +04:30 [INF] --Completed request GetUserActivitiesQuery, "2025-05-26T10:14:03.6620861Z"
2025-05-26 14:44:03.663 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.ActivityDTOs.ActivityResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:44:03.664 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api) in 13.9367ms
2025-05-26 14:44:03.665 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api)'
2025-05-26 14:44:03.666 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Activity/GetUserActivity - 200 null application/json; charset=utf-8 24.8582ms
2025-05-26 14:44:20.606 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived - null null
2025-05-26 14:44:20.700 +04:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/25/2025 1:33:48 PM', Current time (UTC): '5/26/2025 10:14:20 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 14:44:20.705 +04:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/25/2025 1:33:48 PM', Current time (UTC): '5/26/2025 10:14:20 AM'.
2025-05-26 14:44:20.707 +04:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2025-05-26 14:44:20.712 +04:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-26 14:44:20.714 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived - 401 0 null 108.3195ms
2025-05-26 14:44:38.601 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Auth/Login - application/json 58
2025-05-26 14:44:38.655 +04:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/25/2025 1:33:48 PM', Current time (UTC): '5/26/2025 10:14:38 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 14:44:38.660 +04:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/25/2025 1:33:48 PM', Current time (UTC): '5/26/2025 10:14:38 AM'.
2025-05-26 14:44:38.661 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.AuthController.Login (Calendar.Api)'
2025-05-26 14:44:38.663 +04:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Core.Application.DTOs.AuthDTOs.LoginRequest) on controller Calendar.Api.Controllers.AuthController (Calendar.Api).
2025-05-26 14:44:38.670 +04:30 [INF]  --Starting request LoginCommand, "2025-05-26T10:14:38.6702208Z" , "e59afb33-e1df-4627-a4d7-8bb32ea54e38"
2025-05-26 14:44:38.687 +04:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:44:38.800 +04:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-05-26 14:44:38.814 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 14:44:38.826 +04:30 [INF] --Completed request LoginCommand, "2025-05-26T10:14:38.8265458Z"
2025-05-26 14:44:38.828 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[Core.Domain.Helper.JwtAuthResult, Core.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:44:38.831 +04:30 [INF] Executed action Calendar.Api.Controllers.AuthController.Login (Calendar.Api) in 165.2687ms
2025-05-26 14:44:38.832 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.AuthController.Login (Calendar.Api)'
2025-05-26 14:44:38.833 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Auth/Login - 200 null application/json; charset=utf-8 232.8971ms
2025-05-26 14:45:10.605 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Auth/Login - application/json 62
2025-05-26 14:45:10.661 +04:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/25/2025 1:33:48 PM', Current time (UTC): '5/26/2025 10:15:10 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 14:45:10.666 +04:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/25/2025 1:33:48 PM', Current time (UTC): '5/26/2025 10:15:10 AM'.
2025-05-26 14:45:10.667 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.AuthController.Login (Calendar.Api)'
2025-05-26 14:45:10.668 +04:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Core.Application.DTOs.AuthDTOs.LoginRequest) on controller Calendar.Api.Controllers.AuthController (Calendar.Api).
2025-05-26 14:45:10.670 +04:30 [INF]  --Starting request LoginCommand, "2025-05-26T10:15:10.6705983Z" , "a5421919-2dcc-4230-85cf-c0788dbe7493"
2025-05-26 14:45:10.686 +04:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:45:10.753 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-05-26 14:45:10.758 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 14:45:10.760 +04:30 [INF] --Completed request LoginCommand, "2025-05-26T10:15:10.7605992Z"
2025-05-26 14:45:10.761 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[Core.Domain.Helper.JwtAuthResult, Core.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:45:10.762 +04:30 [INF] Executed action Calendar.Api.Controllers.AuthController.Login (Calendar.Api) in 92.7273ms
2025-05-26 14:45:10.764 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.AuthController.Login (Calendar.Api)'
2025-05-26 14:45:10.765 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Auth/Login - 200 null application/json; charset=utf-8 159.2407ms
2025-05-26 14:45:44.424 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Auth/Login - application/json 59
2025-05-26 14:45:44.485 +04:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/25/2025 1:33:48 PM', Current time (UTC): '5/26/2025 10:15:44 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-26 14:45:44.488 +04:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/25/2025 1:33:48 PM', Current time (UTC): '5/26/2025 10:15:44 AM'.
2025-05-26 14:45:44.489 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.AuthController.Login (Calendar.Api)'
2025-05-26 14:45:44.490 +04:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Core.Application.DTOs.AuthDTOs.LoginRequest) on controller Calendar.Api.Controllers.AuthController (Calendar.Api).
2025-05-26 14:45:44.493 +04:30 [INF]  --Starting request LoginCommand, "2025-05-26T10:15:44.4935940Z" , "66150499-cc30-4da6-9a80-cc8db4debbd7"
2025-05-26 14:45:44.499 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:45:44.567 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-05-26 14:45:44.572 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 14:45:44.574 +04:30 [INF] --Completed request LoginCommand, "2025-05-26T10:15:44.5747944Z"
2025-05-26 14:45:44.575 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[Core.Domain.Helper.JwtAuthResult, Core.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:45:44.577 +04:30 [INF] Executed action Calendar.Api.Controllers.AuthController.Login (Calendar.Api) in 84.5533ms
2025-05-26 14:45:44.578 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.AuthController.Login (Calendar.Api)'
2025-05-26 14:45:44.579 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Auth/Login - 200 null application/json; charset=utf-8 155.0357ms
2025-05-26 14:46:22.058 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived - null null
2025-05-26 14:46:22.062 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 14:46:22.065 +04:30 [INF] Route matched with {action = "GetRequestsReceived", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsReceived(System.Nullable`1[Core.Domain.Enum.RequestFor]) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 14:46:22.069 +04:30 [INF]  --Starting request GetRequestsReceivedQuery, "2025-05-26T10:16:22.0692643Z" , "69cb4179-366b-48db-9c4e-a2365b124a85"
2025-05-26 14:46:22.095 +04:30 [INF] --Completed request GetRequestsReceivedQuery, "2025-05-26T10:16:22.0958404Z"
2025-05-26 14:46:22.097 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserRequestDTOs.RequestResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:46:22.111 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api) in 43.9153ms
2025-05-26 14:46:22.113 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 14:46:22.114 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived - 200 null application/json; charset=utf-8 56.3272ms
2025-05-26 14:47:52.981 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/UserRequest/AnswerRequest - multipart/form-data; boundary=----WebKitFormBoundarylwBoGqV1XpjzQPIQ 277
2025-05-26 14:47:52.989 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.AnswerRequest (Calendar.Api)'
2025-05-26 14:47:52.992 +04:30 [INF] Route matched with {action = "AnswerRequest", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AnswerRequest(System.String, Boolean) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 14:47:53.017 +04:30 [INF]  --Starting request AnswerRequestCommand, "2025-05-26T10:17:53.0179680Z" , "ac33b4cc-e1e9-4344-a606-5e145a8cff07"
2025-05-26 14:47:53.048 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActivityId], [u].[AnsweredAt], [u].[InvitedAt], [u].[IsActive], [u].[IsExpire], [u].[IsGuest], [u].[Message], [u].[ProjectId], [u].[ReceiverId], [u].[RequestFor], [u].[SenderId], [u].[Status]
FROM [UserRequests] AS [u]
WHERE [u].[Id] = @__p_0
2025-05-26 14:47:53.055 +04:30 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRequests] SET [AnsweredAt] = @p0, [IsExpire] = @p1, [Status] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-05-26 14:47:53.058 +04:30 [INF] --Completed request AnswerRequestCommand, "2025-05-26T10:17:53.0586547Z"
2025-05-26 14:47:53.059 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:47:53.061 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.AnswerRequest (Calendar.Api) in 66.8163ms
2025-05-26 14:47:53.062 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.AnswerRequest (Calendar.Api)'
2025-05-26 14:47:53.063 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/UserRequest/AnswerRequest - 200 null application/json; charset=utf-8 82.3074ms
2025-05-26 14:47:58.951 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Activity/GetMemberOfActivity8dbd88e1-27e4-4004-ae22-87a7d9454ba9 - null null
2025-05-26 14:47:58.953 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.GetMemberOfActivity (Calendar.Api)'
2025-05-26 14:47:58.954 +04:30 [INF] Route matched with {action = "GetMemberOfActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMemberOfActivity(System.Guid) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:47:58.956 +04:30 [INF]  --Starting request GetMemberOfActivityQuery, "2025-05-26T10:17:58.9568487Z" , "21135cb3-ef05-46d1-b63d-bea2059495ff"
2025-05-26 14:47:58.975 +04:30 [INF] --Completed request GetMemberOfActivityQuery, "2025-05-26T10:17:58.9756623Z"
2025-05-26 14:47:58.977 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserDTOs.UserResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:47:58.978 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.GetMemberOfActivity (Calendar.Api) in 22.5662ms
2025-05-26 14:47:58.980 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.GetMemberOfActivity (Calendar.Api)'
2025-05-26 14:47:58.981 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Activity/GetMemberOfActivity8dbd88e1-27e4-4004-ae22-87a7d9454ba9 - 200 null application/json; charset=utf-8 30.9134ms
2025-05-26 14:48:16.108 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived - null null
2025-05-26 14:48:16.112 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 14:48:16.113 +04:30 [INF] Route matched with {action = "GetRequestsReceived", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsReceived(System.Nullable`1[Core.Domain.Enum.RequestFor]) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 14:48:16.115 +04:30 [INF]  --Starting request GetRequestsReceivedQuery, "2025-05-26T10:18:16.1156129Z" , "7401b197-854f-4d79-abda-69aa1d1a7a36"
2025-05-26 14:48:16.123 +04:30 [INF] --Completed request GetRequestsReceivedQuery, "2025-05-26T10:18:16.1238917Z"
2025-05-26 14:48:16.125 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserRequestDTOs.RequestResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:48:16.126 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api) in 11.8591ms
2025-05-26 14:48:16.130 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 14:48:16.132 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived - 200 null application/json; charset=utf-8 23.8915ms
2025-05-26 14:48:25.340 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/UserRequest/GetResponsesUserSent - null null
2025-05-26 14:48:25.343 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.GetResponsesUserSent (Calendar.Api)'
2025-05-26 14:48:25.347 +04:30 [INF] Route matched with {action = "GetResponsesUserSent", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponsesUserSent(System.Nullable`1[Core.Domain.Enum.RequestFor]) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 14:48:25.352 +04:30 [INF]  --Starting request GetResponsesUserSentQuery, "2025-05-26T10:18:25.3528097Z" , "8fafa31f-bdab-4fe4-b46e-c9f2399250ab"
2025-05-26 14:48:25.357 +04:30 [INF] --Completed request GetResponsesUserSentQuery, "2025-05-26T10:18:25.3579000Z"
2025-05-26 14:48:25.359 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserRequestDTOs.RequestResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:48:25.360 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.GetResponsesUserSent (Calendar.Api) in 10.3697ms
2025-05-26 14:48:25.362 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.GetResponsesUserSent (Calendar.Api)'
2025-05-26 14:48:25.363 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/UserRequest/GetResponsesUserSent - 200 null application/json; charset=utf-8 22.9254ms
2025-05-26 14:48:36.483 +04:30 [INF] Request starting HTTP/2 DELETE https://localhost:7107/api/UserRequest/RemoveRequest4f12f879-50d0-4401-ab7e-c934e0d293e3 - null null
2025-05-26 14:48:36.497 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.RemoveRequest (Calendar.Api)'
2025-05-26 14:48:36.502 +04:30 [INF] Route matched with {action = "RemoveRequest", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveRequest(System.Guid) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 14:48:36.506 +04:30 [INF]  --Starting request DeleteRequestCommand, "2025-05-26T10:18:36.5069271Z" , "edace310-fb97-4ec4-a13e-136784ac1641"
2025-05-26 14:48:36.513 +04:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActivityId], [u].[AnsweredAt], [u].[InvitedAt], [u].[IsActive], [u].[IsExpire], [u].[IsGuest], [u].[Message], [u].[ProjectId], [u].[ReceiverId], [u].[RequestFor], [u].[SenderId], [u].[Status]
FROM [UserRequests] AS [u]
WHERE [u].[Id] = @__p_0
2025-05-26 14:48:36.917 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.RemoveRequest (Calendar.Api) in 412.5043ms
2025-05-26 14:48:37.016 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.RemoveRequest (Calendar.Api)'
2025-05-26 14:48:37.197 +04:30 [ERR] dcf281ba-eb41-408e-9870-c291c3bb51a2 : your not access!
2025-05-26 14:48:37.199 +04:30 [INF] Request finished HTTP/2 DELETE https://localhost:7107/api/UserRequest/RemoveRequest4f12f879-50d0-4401-ab7e-c934e0d293e3 - 500 null application/json 716.5819ms
2025-05-26 14:48:52.180 +04:30 [INF] Request starting HTTP/2 DELETE https://localhost:7107/api/UserRequest/RemoveRequest4f12f879-50d0-4401-ab7e-c934e0d293e3 - null null
2025-05-26 14:48:52.184 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.RemoveRequest (Calendar.Api)'
2025-05-26 14:48:52.185 +04:30 [INF] Route matched with {action = "RemoveRequest", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveRequest(System.Guid) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 14:48:52.187 +04:30 [INF]  --Starting request DeleteRequestCommand, "2025-05-26T10:18:52.1877863Z" , "d8907812-1ac3-4af9-bf5d-4fd8c236c94e"
2025-05-26 14:48:52.191 +04:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActivityId], [u].[AnsweredAt], [u].[InvitedAt], [u].[IsActive], [u].[IsExpire], [u].[IsGuest], [u].[Message], [u].[ProjectId], [u].[ReceiverId], [u].[RequestFor], [u].[SenderId], [u].[Status]
FROM [UserRequests] AS [u]
WHERE [u].[Id] = @__p_0
2025-05-26 14:48:52.575 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.RemoveRequest (Calendar.Api) in 387.8039ms
2025-05-26 14:48:52.670 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.RemoveRequest (Calendar.Api)'
2025-05-26 14:48:52.853 +04:30 [ERR] df59eb0f-049f-4ef0-9926-ac6067703055 : your not access!
2025-05-26 14:48:52.855 +04:30 [INF] Request finished HTTP/2 DELETE https://localhost:7107/api/UserRequest/RemoveRequest4f12f879-50d0-4401-ab7e-c934e0d293e3 - 500 null application/json 675.0475ms
2025-05-26 14:52:27.450 +04:30 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 14:52:27.652 +04:30 [INF] Now listening on: https://localhost:7107
2025-05-26 14:52:27.654 +04:30 [INF] Now listening on: http://localhost:5150
2025-05-26 14:52:27.656 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 14:52:27.657 +04:30 [INF] Hosting environment: Development
2025-05-26 14:52:27.658 +04:30 [INF] Content root path: C:\Users\DELL\source\repos\Calendar\Calendar.Api
2025-05-26 14:52:28.166 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 14:52:28.417 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 257.9204ms
2025-05-26 14:52:28.425 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 14:52:28.431 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 6.2943ms
2025-05-26 14:52:28.442 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 14:52:28.477 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.5182ms
2025-05-26 14:52:28.543 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 14:52:28.680 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.9686ms
2025-05-26 14:52:41.221 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/UserRequest/GetResponsesUserSent - null null
2025-05-26 14:52:41.350 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.GetResponsesUserSent (Calendar.Api)'
2025-05-26 14:52:41.377 +04:30 [INF] Route matched with {action = "GetResponsesUserSent", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponsesUserSent(System.Nullable`1[Core.Domain.Enum.RequestFor]) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 14:52:41.397 +04:30 [INF]  --Starting request GetResponsesUserSentQuery, "2025-05-26T10:22:41.3967454Z" , "1cd09f44-66de-4b5f-bfa3-28be317edfca"
2025-05-26 14:52:42.585 +04:30 [INF] --Completed request GetResponsesUserSentQuery, "2025-05-26T10:22:42.5848355Z"
2025-05-26 14:52:42.595 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserRequestDTOs.RequestResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:52:42.624 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.GetResponsesUserSent (Calendar.Api) in 1242.0796ms
2025-05-26 14:52:42.626 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.GetResponsesUserSent (Calendar.Api)'
2025-05-26 14:52:42.631 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/UserRequest/GetResponsesUserSent - 200 null application/json; charset=utf-8 1409.1158ms
2025-05-26 14:52:58.483 +04:30 [INF] Request starting HTTP/2 DELETE https://localhost:7107/api/UserRequest/RemoveRequest4f12f879-50d0-4401-ab7e-c934e0d293e3 - null null
2025-05-26 14:52:58.492 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.RemoveRequest (Calendar.Api)'
2025-05-26 14:52:58.497 +04:30 [INF] Route matched with {action = "RemoveRequest", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveRequest(System.Guid) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 14:52:58.505 +04:30 [INF]  --Starting request DeleteRequestCommand, "2025-05-26T10:22:58.5050998Z" , "9ddbcc69-4eeb-4eaa-ac1d-d27e41a76d18"
2025-05-26 14:52:58.791 +04:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[ActivityId], [u].[AnsweredAt], [u].[InvitedAt], [u].[IsActive], [u].[IsExpire], [u].[IsGuest], [u].[Message], [u].[ProjectId], [u].[ReceiverId], [u].[RequestFor], [u].[SenderId], [u].[Status]
FROM [UserRequests] AS [u]
WHERE [u].[Id] = @__p_0
2025-05-26 14:52:58.941 +04:30 [INF] Executed DbCommand (21ms) [Parameters=[@p12='?' (Size = 450), @p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (Size = 450), @p9='?' (DbType = Int32), @p10='?' (Size = 450), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRequests] SET [ActivityId] = @p0, [AnsweredAt] = @p1, [InvitedAt] = @p2, [IsActive] = @p3, [IsExpire] = @p4, [IsGuest] = @p5, [Message] = @p6, [ProjectId] = @p7, [ReceiverId] = @p8, [RequestFor] = @p9, [SenderId] = @p10, [Status] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-05-26 14:52:58.953 +04:30 [INF] --Completed request DeleteRequestCommand, "2025-05-26T10:22:58.9534603Z"
2025-05-26 14:52:58.955 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:52:58.958 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.RemoveRequest (Calendar.Api) in 458.0419ms
2025-05-26 14:52:58.960 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.RemoveRequest (Calendar.Api)'
2025-05-26 14:52:58.964 +04:30 [INF] Request finished HTTP/2 DELETE https://localhost:7107/api/UserRequest/RemoveRequest4f12f879-50d0-4401-ab7e-c934e0d293e3 - 200 null application/json; charset=utf-8 480.8769ms
2025-05-26 14:53:05.632 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/UserRequest/GetResponsesUserSent - null null
2025-05-26 14:53:05.638 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.GetResponsesUserSent (Calendar.Api)'
2025-05-26 14:53:05.639 +04:30 [INF] Route matched with {action = "GetResponsesUserSent", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetResponsesUserSent(System.Nullable`1[Core.Domain.Enum.RequestFor]) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 14:53:05.641 +04:30 [INF]  --Starting request GetResponsesUserSentQuery, "2025-05-26T10:23:05.6419160Z" , "f3c9cd28-d6e5-49b4-8b05-1c20a83a48f0"
2025-05-26 14:53:05.654 +04:30 [INF] --Completed request GetResponsesUserSentQuery, "2025-05-26T10:23:05.6542856Z"
2025-05-26 14:53:05.655 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserRequestDTOs.RequestResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:53:05.656 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.GetResponsesUserSent (Calendar.Api) in 15.7447ms
2025-05-26 14:53:05.658 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.GetResponsesUserSent (Calendar.Api)'
2025-05-26 14:53:05.659 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/UserRequest/GetResponsesUserSent - 200 null application/json; charset=utf-8 27.1772ms
2025-05-26 14:53:15.938 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Activity/GetUserActivity - null null
2025-05-26 14:53:15.943 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api)'
2025-05-26 14:53:15.948 +04:30 [INF] Route matched with {action = "GetAllUserActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUserActivity(System.Nullable`1[System.DateTime], System.Nullable`1[Core.Domain.Enum.ActivityCategory], Boolean, Boolean, Boolean) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:53:15.953 +04:30 [INF]  --Starting request GetUserActivitiesQuery, "2025-05-26T10:23:15.9536156Z" , "4d5cb03a-6e2a-4a86-9208-a32dc5b60318"
2025-05-26 14:53:15.971 +04:30 [INF] --Completed request GetUserActivitiesQuery, "2025-05-26T10:23:15.9714200Z"
2025-05-26 14:53:15.972 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.ActivityDTOs.ActivityResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:53:15.981 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api) in 30.0773ms
2025-05-26 14:53:15.983 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api)'
2025-05-26 14:53:15.984 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Activity/GetUserActivity - 200 null application/json; charset=utf-8 46.6393ms
2025-05-26 14:54:02.110 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Activity/GetMemberOfActivity8dbd88e1-27e4-4004-ae22-87a7d9454ba9 - null null
2025-05-26 14:54:02.118 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.GetMemberOfActivity (Calendar.Api)'
2025-05-26 14:54:02.121 +04:30 [INF] Route matched with {action = "GetMemberOfActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMemberOfActivity(System.Guid) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 14:54:02.125 +04:30 [INF]  --Starting request GetMemberOfActivityQuery, "2025-05-26T10:24:02.1253865Z" , "fb33aabe-a872-4530-a4ee-63e87bbbb541"
2025-05-26 14:54:02.154 +04:30 [INF] --Completed request GetMemberOfActivityQuery, "2025-05-26T10:24:02.1542347Z"
2025-05-26 14:54:02.156 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserDTOs.UserResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:54:02.163 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.GetMemberOfActivity (Calendar.Api) in 39.4911ms
2025-05-26 14:54:02.165 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.GetMemberOfActivity (Calendar.Api)'
2025-05-26 14:54:02.167 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Activity/GetMemberOfActivity8dbd88e1-27e4-4004-ae22-87a7d9454ba9 - 200 null application/json; charset=utf-8 56.6865ms
2025-05-26 15:07:49.707 +04:30 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 15:07:50.084 +04:30 [INF] Now listening on: https://localhost:7107
2025-05-26 15:07:50.087 +04:30 [INF] Now listening on: http://localhost:5150
2025-05-26 15:07:50.091 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 15:07:50.093 +04:30 [INF] Hosting environment: Development
2025-05-26 15:07:50.094 +04:30 [INF] Content root path: C:\Users\DELL\source\repos\Calendar\Calendar.Api
2025-05-26 15:07:51.017 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 15:07:51.255 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 242.2549ms
2025-05-26 15:07:51.260 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 15:07:51.280 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 15:07:51.284 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 23.9823ms
2025-05-26 15:07:51.387 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 107.6133ms
2025-05-26 15:07:51.419 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 15:07:51.586 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.6949ms
2025-05-26 15:09:56.637 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Project/CreateProject - application/json 195
2025-05-26 15:09:56.764 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ProjectController.CreateProject (Calendar.Api)'
2025-05-26 15:09:56.787 +04:30 [INF] Route matched with {action = "CreateProject", controller = "Project"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProject(Core.Application.DTOs.ProjectDTOs.CreateProjectRequest) on controller Calendar.Api.Controllers.ProjectController (Calendar.Api).
2025-05-26 15:09:56.838 +04:30 [INF]  --Starting request CreateProjectCommand, "2025-05-26T10:39:56.8377099Z" , "8be53a1a-2339-434b-b0b9-9c2688e47856"
2025-05-26 15:09:57.944 +04:30 [INF] Executed action Calendar.Api.Controllers.ProjectController.CreateProject (Calendar.Api) in 1149.1762ms
2025-05-26 15:09:57.975 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ProjectController.CreateProject (Calendar.Api)'
2025-05-26 15:09:58.022 +04:30 [ERR] 55469d39-f29a-43db-8fe2-898ff3d1ac9b : the start date cannot be greater than the end date
2025-05-26 15:09:58.035 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Project/CreateProject - 500 null application/json 1398.1109ms
2025-05-26 15:10:15.239 +04:30 [INF] Request starting HTTP/2 POST https://localhost:7107/api/Project/CreateProject - application/json 195
2025-05-26 15:10:15.247 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ProjectController.CreateProject (Calendar.Api)'
2025-05-26 15:10:15.249 +04:30 [INF] Route matched with {action = "CreateProject", controller = "Project"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProject(Core.Application.DTOs.ProjectDTOs.CreateProjectRequest) on controller Calendar.Api.Controllers.ProjectController (Calendar.Api).
2025-05-26 15:10:15.253 +04:30 [INF]  --Starting request CreateProjectCommand, "2025-05-26T10:40:15.2533992Z" , "27636a7b-def1-42ed-9af6-c99210afd4a5"
2025-05-26 15:10:15.773 +04:30 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Category], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:10:16.043 +04:30 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (Size = 450), @p6='?' (DbType = DateTime2), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 450), @p11='?' (Size = 450), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Boolean), @p15='?' (DbType = Boolean), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 450), @p19='?' (Size = 450), @p20='?' (DbType = Int32), @p21='?' (Size = 450), @p22='?' (DbType = Int32), @p23='?' (Size = 450), @p24='?' (Size = 450), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Boolean), @p28='?' (DbType = Boolean), @p29='?' (DbType = Boolean), @p30='?' (Size = 4000), @p31='?' (Size = 450), @p32='?' (Size = 450), @p33='?' (DbType = Int32), @p34='?' (Size = 450), @p35='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Projects] ([Id], [CreatedDate], [Description], [EndDate], [IsEdited], [OwnerId], [StartDate], [Title], [UpdateDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [UserRequests] ([Id], [ActivityId], [AnsweredAt], [InvitedAt], [IsActive], [IsExpire], [IsGuest], [Message], [ProjectId], [ReceiverId], [RequestFor], [SenderId], [Status])
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22),
(@p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35);
2025-05-26 15:10:16.064 +04:30 [INF] --Completed request CreateProjectCommand, "2025-05-26T10:40:16.0638327Z"
2025-05-26 15:10:16.072 +04:30 [INF] Executing CreatedResult, writing value of type 'Core.Domain.Shared.Response`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 15:10:16.082 +04:30 [INF] Executed action Calendar.Api.Controllers.ProjectController.CreateProject (Calendar.Api) in 830.7174ms
2025-05-26 15:10:16.083 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ProjectController.CreateProject (Calendar.Api)'
2025-05-26 15:10:16.088 +04:30 [INF] Request finished HTTP/2 POST https://localhost:7107/api/Project/CreateProject - 201 null application/json; charset=utf-8 849.4934ms
2025-05-26 15:13:18.243 +04:30 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 15:13:18.438 +04:30 [INF] Now listening on: https://localhost:7107
2025-05-26 15:13:18.441 +04:30 [INF] Now listening on: http://localhost:5150
2025-05-26 15:13:18.444 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 15:13:18.445 +04:30 [INF] Hosting environment: Development
2025-05-26 15:13:18.446 +04:30 [INF] Content root path: C:\Users\DELL\source\repos\Calendar\Calendar.Api
2025-05-26 15:13:18.798 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 15:13:19.015 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 220.1979ms
2025-05-26 15:13:19.023 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 15:13:19.031 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 7.4254ms
2025-05-26 15:13:19.037 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 15:13:19.072 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.806ms
2025-05-26 15:13:19.106 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 15:13:19.277 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.9839ms
2025-05-26 15:13:39.719 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived - null null
2025-05-26 15:13:39.835 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 15:13:39.865 +04:30 [INF] Route matched with {action = "GetRequestsReceived", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsReceived(System.Nullable`1[Core.Domain.Enum.RequestFor]) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 15:13:39.887 +04:30 [INF]  --Starting request GetRequestsReceivedQuery, "2025-05-26T10:43:39.8871504Z" , "a4bb37c5-ab35-4528-a72d-8d121cfef710"
2025-05-26 15:13:41.023 +04:30 [INF] --Completed request GetRequestsReceivedQuery, "2025-05-26T10:43:41.0231847Z"
2025-05-26 15:13:41.033 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserRequestDTOs.RequestResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 15:13:41.066 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api) in 1195.867ms
2025-05-26 15:13:41.069 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 15:13:41.073 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived - 200 null application/json; charset=utf-8 1355.0944ms
2025-05-26 15:13:47.487 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived?requestFor=0 - null null
2025-05-26 15:13:47.495 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 15:13:47.497 +04:30 [INF] Route matched with {action = "GetRequestsReceived", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsReceived(System.Nullable`1[Core.Domain.Enum.RequestFor]) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 15:13:47.505 +04:30 [INF]  --Starting request GetRequestsReceivedQuery, "2025-05-26T10:43:47.5056571Z" , "46017b4b-0fb6-452a-9b84-3d4136a5f726"
2025-05-26 15:13:47.554 +04:30 [INF] --Completed request GetRequestsReceivedQuery, "2025-05-26T10:43:47.5541294Z"
2025-05-26 15:13:47.555 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserRequestDTOs.RequestResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 15:13:47.558 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api) in 59.3077ms
2025-05-26 15:13:47.560 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 15:13:47.561 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived?requestFor=0 - 200 null application/json; charset=utf-8 74.1412ms
2025-05-26 15:13:57.689 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived?requestFor=1 - null null
2025-05-26 15:13:57.697 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 15:13:57.698 +04:30 [INF] Route matched with {action = "GetRequestsReceived", controller = "UserRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsReceived(System.Nullable`1[Core.Domain.Enum.RequestFor]) on controller Calendar.Api.Controllers.UserRequestController (Calendar.Api).
2025-05-26 15:13:57.702 +04:30 [INF]  --Starting request GetRequestsReceivedQuery, "2025-05-26T10:43:57.7020547Z" , "1881dabb-ad8e-451c-8e74-e4b8b58d7db8"
2025-05-26 15:13:57.721 +04:30 [INF] --Completed request GetRequestsReceivedQuery, "2025-05-26T10:43:57.7218223Z"
2025-05-26 15:13:57.723 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.UserRequestDTOs.RequestResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 15:13:57.724 +04:30 [INF] Executed action Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api) in 23.7559ms
2025-05-26 15:13:57.727 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.UserRequestController.GetRequestsReceived (Calendar.Api)'
2025-05-26 15:13:57.728 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/UserRequest/GetRequestsReceived?requestFor=1 - 200 null application/json; charset=utf-8 39.0182ms
2025-05-26 18:53:03.918 +04:30 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 18:53:04.192 +04:30 [INF] Now listening on: https://localhost:7107
2025-05-26 18:53:04.193 +04:30 [INF] Now listening on: http://localhost:5150
2025-05-26 18:53:04.196 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 18:53:04.198 +04:30 [INF] Hosting environment: Development
2025-05-26 18:53:04.199 +04:30 [INF] Content root path: C:\Users\DELL\source\repos\Calendar\Calendar.Api
2025-05-26 18:53:05.852 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 18:53:06.331 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 489.3587ms
2025-05-26 18:53:06.390 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 18:53:06.390 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 18:53:06.414 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 24.5207ms
2025-05-26 18:53:06.481 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.0576ms
2025-05-26 18:53:06.520 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 18:53:06.664 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.4817ms
2025-05-26 19:08:29.584 +04:30 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-26 19:08:29.724 +04:30 [INF] Now listening on: https://localhost:7107
2025-05-26 19:08:29.725 +04:30 [INF] Now listening on: http://localhost:5150
2025-05-26 19:08:29.728 +04:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 19:08:29.729 +04:30 [INF] Hosting environment: Development
2025-05-26 19:08:29.730 +04:30 [INF] Content root path: C:\Users\DELL\source\repos\Calendar\Calendar.Api
2025-05-26 19:08:30.113 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/index.html - null null
2025-05-26 19:08:30.273 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/index.html - 200 null text/html;charset=utf-8 160.7248ms
2025-05-26 19:08:30.282 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 19:08:30.296 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 13.4085ms
2025-05-26 19:08:30.296 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/_vs/browserLink - null null
2025-05-26 19:08:30.327 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.7602ms
2025-05-26 19:08:30.378 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - null null
2025-05-26 19:08:30.508 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 129.1489ms
2025-05-26 19:13:36.556 +04:30 [INF] Request starting HTTP/2 GET https://localhost:7107/api/Activity/GetUserActivity - null null
2025-05-26 19:13:36.644 +04:30 [INF] Executing endpoint 'Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api)'
2025-05-26 19:13:36.665 +04:30 [INF] Route matched with {action = "GetAllUserActivity", controller = "Activity"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUserActivity(System.Nullable`1[System.DateTime], System.Nullable`1[Core.Domain.Enum.ActivityCategory], Boolean, Boolean, Boolean) on controller Calendar.Api.Controllers.ActivityController (Calendar.Api).
2025-05-26 19:13:36.679 +04:30 [INF]  --Starting request GetUserActivitiesQuery, "2025-05-26T14:43:36.6793155Z" , "f4d25097-37b4-4a64-ac94-0ff06b255416"
2025-05-26 19:13:37.788 +04:30 [INF] --Completed request GetUserActivitiesQuery, "2025-05-26T14:43:37.7882588Z"
2025-05-26 19:13:37.797 +04:30 [INF] Executing OkObjectResult, writing value of type 'Core.Domain.Shared.Response`1[[System.Collections.Generic.List`1[[Core.Application.DTOs.ActivityDTOs.ActivityResponse, Core.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 19:13:37.819 +04:30 [INF] Executed action Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api) in 1150.2858ms
2025-05-26 19:13:37.822 +04:30 [INF] Executed endpoint 'Calendar.Api.Controllers.ActivityController.GetAllUserActivity (Calendar.Api)'
2025-05-26 19:13:37.826 +04:30 [INF] Request finished HTTP/2 GET https://localhost:7107/api/Activity/GetUserActivity - 200 null application/json; charset=utf-8 1270.5007ms
